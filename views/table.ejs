<style>
  .name-column {
    padding-right: 60px;
  }
</style>

<div class="table-responsive">
  <table id="data-table" class="table table-striped table-bordered table-hover">
    <thead>
      <tr>
        <th rowspan="2">ID</th>
        <th rowspan="2">身份证号</th>
        <th rowspan="2">姓名</th>
        <th rowspan="2">性别</th>
        <th rowspan="2">年龄</th>
        <th colspan="2">足长</th>
        <th colspan="2">足弓长度</th>
        <th colspan="2">鞋码</th>
        <th colspan="2">足弓指数</th>
      </tr>
      <tr>
        <th>左脚</th>
        <th>右脚</th>
        <th>左脚</th>
        <th>右脚</th>
        <th>左脚</th>
        <th>右脚</th>
        <th>左脚</th>
        <th>右脚</th>
      </tr>
    </thead>
    <tbody>
      <!-- Table rows will be populated with JavaScript -->
    </tbody>
  </table>
</div>

<script>
  window.onload = async () => {
    // Fetch data from the server
    const response = await fetch("/table-data");
    const data = await response.json();

    // Populate the table with data
    const tbody = document.querySelector("table tbody");
    tbody.innerHTML = data
      .map((row) => {
        return `
        <tr>
          <td>${row.id}</td>
          <td>${row.id_num}</td>
          <td>${row.name}</td>
          <td>${row.gender}</td>
          <td>${row.age}</td>
          <td>${row.feet_length_left}</td>
          <td>${row.feet_length_right}</td>
          <td>${row.arch_length_left}</td>
          <td>${row.arch_length_right}</td>
          <td>${row.shoe_size_left}</td>
          <td>${row.shoe_size_right}</td>
          <td>${row.arch_index_left}</td>
          <td>${row.arch_index_right}</td>
        </tr>
        `;
      })
      .join("");
  };
</script>
